# arc_twitter_intents v1.1
# Twitter Web Intents
# Andy Carter
# http://redhotchilliproject.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMTp7czo0OiJuYW1lIjtzOjE5OiJhcmNfdHdpdHRlcl9pbnRlbnRzIjtzOjc6InZlcnNp
b24iO3M6MzoiMS4xIjtzOjY6ImF1dGhvciI7czoxMToiQW5keSBDYXJ0ZXIiO3M6MTA6ImF1
dGhvcl91cmkiO3M6MzE6Imh0dHA6Ly9yZWRob3RjaGlsbGlwcm9qZWN0LmNvbS8iO3M6MTE6
ImRlc2NyaXB0aW9uIjtzOjE5OiJUd2l0dGVyIFdlYiBJbnRlbnRzIjtzOjU6Im9yZGVyIjtz
OjE6IjUiO3M6NDoidHlwZSI7czoxOiIwIjtzOjU6ImZsYWdzIjtzOjE6IjMiO3M6NDoiaGVs
cCI7czo0NzY5OiIJPGgxIGNsYXNzPSJ0aXRsZSI+PHNwYW4gY2xhc3M9ImNhcHMiPlRYUDwv
c3Bhbj4gVHdlZXQgSW50ZW50czwvaDE+CgoJPHA+YXJjX3R3aXR0ZXJfaW50ZW50cyByZXF1
aXJlcyBhcmNfdHdpdHRlciB2MyBvciBoaWdoZXIgdG8gd29yay48L3A+CgoJPGgyIGNsYXNz
PSJzZWN0aW9uIj5UaGUgYXJjX3R3aXR0ZXJfaW50ZW50X2ZvbGxvdyB0YWc8L2gyPgoKCTxo
Mz5TeW50YXg8L2gzPgoKCTxwPiZsdDt0eHA6YXJjX3R3aXR0ZXJfaW50ZW50X2ZvbGxvdyZn
dDtGb2xsb3cmbHQ7L3R4cDphcmNfdHdpdHRlcl9pbnRlbnRfZm9sbG93Jmd0OzwvcD4KCgk8
aDM+VXNhZ2U8L2gzPgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8L3RoPgoJ
CQk8dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0aD5FeGFt
cGxlPC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPnVzZXI8L3RkPgoJCQk8dGQ+VHdpdHRl
ciB1c2VyIG5hbWUgdG8gZm9sbG93PC90ZD4KCQkJPHRkPiA8ZW0+YXJjX3R3aXR0ZXIgdXNl
cm5hbWU8L2VtPjwvdGQ+CgkJCTx0ZD51c2VyPSZxdW90O2RybW9ua2V5bmluamEmcXVvdDs8
L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+dXNlcl9pZDwvdGQ+CgkJCTx0ZD5Ud2l0dGVy
IHVzZXIgaWQgdG8gZm9sbG93IChvdmVycmlkZXMgdGhlIHVzZXIgYXR0cmlidXRlKTwvdGQ+
CgkJCTx0ZD4gPGVtPmFyY190d2l0dGVyIHVzZXJuYW1lPC9lbT48L3RkPgoJCQk8dGQ+dXNl
cj0mcXVvdDtkcm1vbmtleW5pbmphJnF1b3Q7PC90ZD4KCQk8L3RyPgoJPC90YWJsZT4KCgk8
aDIgY2xhc3M9InNlY3Rpb24iPlRoZSBhcmNfdHdpdHRlcl9pbnRlbnRfZmF2b3JpdGUgdGFn
PC9oMj4KCgk8aDM+U3ludGF4PC9oMz4KCgk8cD4mbHQ7dHhwOmFyY190d2l0dGVyX2ludGVu
dF9mYXZvcml0ZSZndDtGYXZvcml0ZSZsdDsvdHhwOmFyY190d2l0dGVyX2ludGVudF9mYXZv
cml0ZSZndDs8L3A+CgoJPGgzPlVzYWdlPC9oMz4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+
QXR0cmlidXRlPC90aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8
L3RoPgoJCQk8dGg+RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5pZDwvdGQ+
CgkJCTx0ZD5Ud2VldCBpZCB0byBmYXZvdXJpdGU8L3RkPgoJCQk8dGQ+IDxlbT5hcnRpY2xl
JiM4MjE3O3MgYXNzb2NpYXRlZCB0d2VldCBmcm9tIGFyY190d2l0dGVyPC9lbT48L3RkPgoJ
CTwvdHI+CgkJPHRyPgoJCQk8dGQ+dXNlcjwvdGQ+CgkJCTx0ZD5Ud2l0dGVyIHVzZXIgbmFt
ZSByZWxhdGVkIHRvIHR3ZWV0PC90ZD4KCQkJPHRkPiA8ZW0+YXJjX3R3aXR0ZXIgdXNlcm5h
bWU8L2VtPjwvdGQ+CgkJCTx0ZD51c2VyPSZxdW90O2RybW9ua2V5bmluamEmcXVvdDs8L3Rk
PgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+cmVsYXRlZDwvdGQ+CgkJCTx0ZD5Db21tYSBzZXBh
cmF0ZWQgbGlzdCBvZiByZWxhdGVkIFR3aXR0ZXIgdXNlcnMgdG8gcmVjb21tZW5kIGZvbGxv
d2luZzwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48L3RkPgoJCQk8dGQ+cmVsYXRlZD0m
cXVvdDt0ZXh0cGF0dGVybiwgdHdpdHRlciZxdW90OzwvdGQ+CgkJPC90cj4KCTwvdGFibGU+
CgoJPGgyIGNsYXNzPSJzZWN0aW9uIj5UaGUgYXJjX3R3aXR0ZXJfaW50ZW50X3JldHdlZXQg
dGFnPC9oMj4KCgk8aDM+U3ludGF4PC9oMz4KCgk8cD4mbHQ7dHhwOmFyY190d2l0dGVyX2lu
dGVudF9yZXR3ZWV0Jmd0O1JldHdlZXQmbHQ7L3R4cDphcmNfdHdpdHRlcl9pbnRlbnRfcmV0
d2VldCZndDs8L3A+CgoJPGgzPlVzYWdlPC9oMz4KCgk8dGFibGU+CgkJPHRyPgoJCQk8dGg+
QXR0cmlidXRlPC90aD4KCQkJPHRoPkRlc2NyaXB0aW9uPC90aD4KCQkJPHRoPkRlZmF1bHQ8
L3RoPgoJCQk8dGg+RXhhbXBsZTwvdGg+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5pZDwvdGQ+
CgkJCTx0ZD5Ud2VldCBpZCB0byByZXR3ZWV0PC90ZD4KCQkJPHRkPiA8ZW0+YXJ0aWNsZSYj
ODIxNztzIGFzc29jaWF0ZWQgdHdlZXQgZnJvbSBhcmNfdHdpdHRlcjwvZW0+PC90ZD4KCQk8
L3RyPgoJCTx0cj4KCQkJPHRkPnVzZXI8L3RkPgoJCQk8dGQ+VHdpdHRlciB1c2VyIG5hbWUg
cmVsYXRlZCB0byB0d2VldDwvdGQ+CgkJCTx0ZD4gPGVtPmFyY190d2l0dGVyIHVzZXJuYW1l
PC9lbT48L3RkPgoJCQk8dGQ+dXNlcj0mcXVvdDtkcm1vbmtleW5pbmphJnF1b3Q7PC90ZD4K
CQk8L3RyPgoJCTx0cj4KCQkJPHRkPnJlbGF0ZWQ8L3RkPgoJCQk8dGQ+Q29tbWEgc2VwYXJh
dGVkIGxpc3Qgb2YgcmVsYXRlZCBUd2l0dGVyIHVzZXJzIHRvIHJlY29tbWVuZCBmb2xsb3dp
bmc8L3RkPgoJCQk8dGQ+IDxlbT51bnNldDwvZW0+PC90ZD4KCQkJPHRkPnJlbGF0ZWQ9JnF1
b3Q7dGV4dHBhdHRlcm4sIHR3aXR0ZXImcXVvdDs8L3RkPgoJCTwvdHI+Cgk8L3RhYmxlPgoK
CTxoMiBjbGFzcz0ic2VjdGlvbiI+VGhlIGFyY190d2l0dGVyX2ludGVudF9yZXBseSB0YWc8
L2gyPgoKCTxoMz5TeW50YXg8L2gzPgoKCTxwPiZsdDt0eHA6YXJjX3R3aXR0ZXJfaW50ZW50
X3JlcGx5Jmd0O1JlcGx5Jmx0Oy90eHA6YXJjX3R3aXR0ZXJfaW50ZW50X3JlcGx5Jmd0Ozwv
cD4KCgk8aDM+VXNhZ2U8L2gzPgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRyaWJ1dGU8
L3RoPgoJCQk8dGg+RGVzY3JpcHRpb248L3RoPgoJCQk8dGg+RGVmYXVsdDwvdGg+CgkJCTx0
aD5FeGFtcGxlPC90aD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPmlkPC90ZD4KCQkJPHRkPlR3
ZWV0IGlkIHRvIHJlcGx5IHRvPC90ZD4KCQkJPHRkPiA8ZW0+YXJ0aWNsZSYjODIxNztzIGFz
c29jaWF0ZWQgdHdlZXQgZnJvbSBhcmNfdHdpdHRlcjwvZW0+PC90ZD4KCQk8L3RyPgoJCTx0
cj4KCQkJPHRkPnVzZXI8L3RkPgoJCQk8dGQ+VHdpdHRlciB1c2VyIG5hbWUgcmVsYXRlZCB0
byB0d2VldCAodXNlZCBmb3IgcmVjb21tZW5kZWQgYWNjb3VudHMpPC90ZD4KCQkJPHRkPiA8
ZW0+YXJjX3R3aXR0ZXIgdXNlcm5hbWU8L2VtPjwvdGQ+CgkJCTx0ZD51c2VyPSZxdW90O2Ry
bW9ua2V5bmluamEmcXVvdDs8L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+cmVsYXRlZDwv
dGQ+CgkJCTx0ZD5Db21tYSBzZXBhcmF0ZWQgbGlzdCBvZiByZWxhdGVkIFR3aXR0ZXIgdXNl
cnMgdG8gcmVjb21tZW5kIGZvbGxvd2luZzwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48
L3RkPgoJCQk8dGQ+cmVsYXRlZD0mcXVvdDt0ZXh0cGF0dGVybiwgdHdpdHRlciZxdW90Ozwv
dGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD50ZXh0PC90ZD4KCQkJPHRkPlNldCBzb21lIHRl
eHQgZm9yIHRoZSByZXBseSB0d2VldDwvdGQ+CgkJCTx0ZD4gPGVtPnVuc2V0PC9lbT48L3Rk
PgoJCTwvdHI+Cgk8L3RhYmxlPgoKCTxoMiBjbGFzcz0ic2VjdGlvbiI+TGFuZ3VhZ2U8L2gy
PgoKCTxwPkFsbCB0aGUgYXJjX3R3aXR0ZXJfaW50ZW50cyB0YWdzIGhhdmUgYW4gb3B0aW9u
YWwgJiM4MjIwO2xhbmcmIzgyMjE7IGF0dHJpYnV0ZSBmb3Igc2V0dGluZyB0aGUgbGFuZ3Vh
Z2Ugb2YgdGhlIFR3aXR0ZXIgaW50ZXJmYWNlLiBUaGUgZm9sbG93aW5nIHZhbHVlcy9sYW5n
dWFnZXMgYXJlIGF2YWlsYWJsZTotPC9wPgoKCTx0YWJsZT4KCQk8dHI+CgkJCTx0aD5BdHRy
aWJ1dGUgdmFsdWU8L3RoPgoJCQk8dGg+TGFuZ3VhZ2U8L3RoPgoJCTwvdHI+CgkJPHRyPgoJ
CQk8dGQ+ZW48L3RkPgoJCQk8dGQ+RW5nbGlzaCAoZGVmYXVsdCk8L3RkPgoJCTwvdHI+CgkJ
PHRyPgoJCQk8dGQ+ZnI8L3RkPgoJCQk8dGQ+RnJlbmNoPC90ZD4KCQk8L3RyPgoJCTx0cj4K
CQkJPHRkPml0PC90ZD4KCQkJPHRkPkl0YWxpYW48L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8
dGQ+ZXM8L3RkPgoJCQk8dGQ+U3BhbmlzaDwvdGQ+CgkJPC90cj4KCQk8dHI+CgkJCTx0ZD5r
bzwvdGQ+CgkJCTx0ZD5Lb3JlYW48L3RkPgoJCTwvdHI+CgkJPHRyPgoJCQk8dGQ+anA8L3Rk
PgoJCQk8dGQ+SmFwYW5lc2U8L3RkPgoJCTwvdHI+Cgk8L3RhYmxlPgoKCTxoMiBjbGFzcz0i
c2VjdGlvbiI+SmF2YVNjcmlwdDwvaDI+CgoJPHA+QWxsIHRoZSBhcmNfdHdpdHRlcl9pbnRl
bnRzIHRhZ3MgaGF2ZSB0d28gb3B0aW9uYWwgYXR0cmlidXRlcyB0aGF0IHJlbGF0ZSB0byB0
aGUgaW5jbHVzaW9uIG9mIHRoZSBUd2l0dGVyIHdpZGdldCBKYXZhU2NyaXB0LjwvcD4KCgk8
dGFibGU+CgkJPHRyPgoJCQk8dGg+QXR0cmlidXRlPC90aD4KCQkJPHRoPkRlc2NyaXB0aW9u
PC90aD4KCQkJPHRoPkRlZmF1bHQ8L3RoPgoJCQk8dGg+RXhhbXBsZTwvdGg+CgkJPC90cj4K
CQk8dHI+CgkJCTx0ZD5pbmNsdWRlX2pzPC90ZD4KCQkJPHRkPkluY2x1ZGUgdGhlIFR3aXR0
ZXIgd2lkZ2V0IEphdmFTY3JpcHQ8L3RkPgoJCQk8dGQ+dHJ1ZTwvdGQ+CgkJCTx0ZD5pbmNs
dWRlX2pzPSZxdW90O2ZhbHNlJnF1b3Q7PC90ZD4KCQk8L3RyPgoJCTx0cj4KCQkJPHRkPm9w
dGltaXNlX2pzPC90ZD4KCQkJPHRkPk9wdGltaXNlIHRoZSBKYXZhU2NyaXB0IGJ5IHVzaW5n
IGEgbG9jYWwgc2NyaXB0IHJhdGhlciB0aGFuIHRoYXQgaG9zdGVkIG9uIHRoZSBUd2l0dGVy
IHNpdGU8L3RkPgoJCQk8dGQ+ZmFsc2U8L3RkPgoJCQk8dGQ+b3B0aW1pc2VfanM9JnF1b3Q7
dHJ1ZSZxdW90OzwvdGQ+CgkJPC90cj4KCTwvdGFibGU+CgoJPHA+PHNwYW4gY2xhc3M9ImNh
cHMiPlRYUDwvc3Bhbj4gVHdlZXQgd2lsbCBvbmx5IGluY2x1ZGUgdGhlIHdpZGdldCBKYXZh
U2NyaXB0IG9uY2Ugb24gYSBwYWdlIHJlZ2FyZGxlc3Mgb2YgdGhlIG51bWJlciBvZiB0YWdz
IHVzZWQgdGhhdCBpbmNsdWRlIGl0LjwvcD4KCiI7czo0OiJjb2RlIjtzOjQ2Mzc6Imdsb2Jh
bCAkcHJlZnMsJHR4cGNmZzsKCi8vIGFyY190d2l0dGVyX2ludGVudHMgcmVxdWlyZXMgYXJj
X3R3aXR0ZXIgdjMgb3IgaGlnaGVyCnJlcXVpcmVfcGx1Z2luKCdhcmNfdHdpdHRlcicpOwoK
aWYgKEB0eHBpbnRlcmZhY2UgPT0gJ2FkbWluJykgewogICAgcmVnaXN0ZXJfY2FsbGJhY2so
J19hcmNfdHdpdHRlcl9hdXRvX2VuYWJsZScsICdwbHVnaW5fbGlmZWN5Y2xlLmFyY190d2l0
dGVyX2ludGVudHMnLCAnaW5zdGFsbGVkJyk7Cn0KCmZ1bmN0aW9uIGFyY190d2l0dGVyX2lu
dGVudF9mb2xsb3coJGF0dHMsICR0aGluZz1udWxsKQp7CiAgICBnbG9iYWwgJHByZWZzOwoK
ICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAgICAgJ3VzZXInICAgICAgPT4gJHByZWZz
WydhcmNfdHdpdHRlcl91c2VyJ10sCiAgICAgICAgJ3VzZXJfaWQnICAgPT4gJycsCiAgICAg
ICAgJ2xhbmcnICAgICAgPT4gJycsCiAgICAgICAgJ2luY2x1ZGVfanMnPT4gdHJ1ZSwKICAg
ICAgICAnb3B0aW1pc2VfanMnID0+IGZhbHNlLAogICAgICAgICdjbGFzcycgICAgID0+ICcn
CiAgICApLCRhdHRzKSk7CgogICAgJHEgPSAoJHVzZXJfaWQpID8gJ3VzZXJfaWQ9Jy4kdXNl
cl9pZCA6ICdzY3JlZW5fbmFtZT0nLiR1c2VyOwoKICAgICRsYW5nID0gX2FyY190d2l0dGVy
X2ludGVudHNfbGFuZygkbGFuZyk7CiAgICAkcSAuPSAnJmFtcDtsYW5nPScudXJsZW5jb2Rl
KCRsYW5nKTsKCiAgICAkdGhpbmcgPSAoJHRoaW5nPT09bnVsbCkgPyAnRm9sbG93JyA6IHBh
cnNlKCR0aGluZyk7CgogICAgJGh0bWwgPSBocmVmKCR0aGluZywnaHR0cDovL3R3aXR0ZXIu
Y29tL2ludGVudC91c2VyPycuJHEKICAgICAgLCAnIGNsYXNzPSInLiRjbGFzcy4nIicpOwoK
ICAgICRqcyA9ICgkaW5jbHVkZV9qcykgPyBfYXJjX3R3aXR0ZXJfd2lkZ2V0X2pzKCRvcHRp
bWlzZV9qcz90cnVlOmZhbHNlKSA6ICcnOwoKICAgIHJldHVybiAkanMuJGh0bWw7Cn0KCmZ1
bmN0aW9uIGFyY190d2l0dGVyX2ludGVudF9mYXZvcml0ZSgkYXR0cywgJHRoaW5nPW51bGwp
CnsKICAgIGdsb2JhbCAkcHJlZnMsICR0aGlzYXJ0aWNsZTsKCiAgICBleHRyYWN0KGxBdHRz
KGFycmF5KAogICAgICAgICd1c2VyJyAgICAgID0+ICRwcmVmc1snYXJjX3R3aXR0ZXJfdXNl
ciddLAogICAgICAgICdyZWxhdGVkJyAgID0+ICcnLAogICAgICAgICdpbmNsdWRlX2pzJz0+
IHRydWUsCiAgICAgICAgJ29wdGltaXNlX2pzJyA9PiBmYWxzZSwKICAgICAgICAnbGFuZycg
ICAgICA9PiAnJywKICAgICAgICAnaWQnICAgICAgICA9PiAnJywKICAgICAgICAnY2xhc3Mn
ICAgICA9PiAnJwogICAgKSwkYXR0cykpOwoKICAgIGlmICgkaWQgfHwgJHRoaXNhcnRpY2xl
Wyd0aGlzaWQnXSkgewoKICAgICAgJHEgPSAncmVsYXRlZD0nLiR1c2VyOwogICAgICBpZiAo
JHJlbGF0ZWQpICRxIC49IHVybGVuY29kZSgoJHE/JywnOidyZWxhdGVkPScpLiRyZWxhdGVk
KTsKCiAgICAgIGlmICghJGlkKSB7CiAgICAgICAgJHJvdyA9IHNhZmVfcm93KCJ0d2VldF9p
ZCIKICAgICAgICAsICdhcmNfdHdpdHRlcicsICJhcnRpY2xlX2lkPXskdGhpc2FydGljbGVb
J3RoaXNpZCddfSIpOwogICAgICAgIGlmICghJGlkID0gJHJvd1sndHdlZXRfaWQnXSkgcmV0
dXJuIGZhbHNlOwogICAgICB9CgogICAgICAkcSAuPSAnJmFtcDt0d2VldF9pZD0nLiRpZDsK
CiAgICAgICRsYW5nID0gX2FyY190d2l0dGVyX2ludGVudHNfbGFuZygkbGFuZyk7CiAgICAg
ICRxIC49ICcmYW1wO2xhbmc9Jy51cmxlbmNvZGUoJGxhbmcpOwoKICAgICAgJHRoaW5nID0g
KCR0aGluZz09PW51bGwpID8gJ0Zhdm9yaXRlJyA6IHBhcnNlKCR0aGluZyk7CgogICAgICAk
aHRtbCA9IGhyZWYoJHRoaW5nLCdodHRwOi8vdHdpdHRlci5jb20vaW50ZW50L2Zhdm9yaXRl
PycuJHEKICAgICAgICAsICcgY2xhc3M9IicuJGNsYXNzLiciJyk7CgogICAgICAkanMgPSAo
JGluY2x1ZGVfanMpID8gX2FyY190d2l0dGVyX3dpZGdldF9qcygkb3B0aW1pc2VfanM/dHJ1
ZTpmYWxzZSkgOiAnJzsKCiAgICAgIHJldHVybiAkanMuJGh0bWw7CgogICAgfQoKICAgIHJl
dHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gYXJjX3R3aXR0ZXJfaW50ZW50X3JldHdlZXQoJGF0
dHMsICR0aGluZz1udWxsKQp7CiAgICBnbG9iYWwgJHByZWZzLCAkdGhpc2FydGljbGU7Cgog
ICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAgICAgICAndXNlcicgICAgICA9PiAkcHJlZnNb
J2FyY190d2l0dGVyX3VzZXInXSwKICAgICAgICAncmVsYXRlZCcgICA9PiAnJywKICAgICAg
ICAnaW5jbHVkZV9qcyc9PiB0cnVlLAogICAgICAgICdvcHRpbWlzZV9qcycgPT4gZmFsc2Us
CiAgICAgICAgJ2xhbmcnICAgICAgPT4gJycsCiAgICAgICAgJ2lkJyAgICAgICAgPT4gJycs
CiAgICAgICAgJ2NsYXNzJyAgICAgPT4gJycKICAgICksJGF0dHMpKTsKCiAgICBpZiAoJGlk
IHx8ICR0aGlzYXJ0aWNsZVsndGhpc2lkJ10pIHsKCiAgICAgICRxID0gJ3JlbGF0ZWQ9Jy4k
dXNlcjsKICAgICAgaWYgKCRyZWxhdGVkKSAkcSAuPSB1cmxlbmNvZGUoKCRxPycsJzoncmVs
YXRlZD0nKS4kcmVsYXRlZCk7CgogICAgICBpZiAoISRpZCkgewogICAgICAgICRyb3cgPSBz
YWZlX3JvdygidHdlZXRfaWQiCiAgICAgICAgLCAnYXJjX3R3aXR0ZXInLCAiYXJ0aWNsZV9p
ZD17JHRoaXNhcnRpY2xlWyd0aGlzaWQnXX0iKTsKICAgICAgICBpZiAoISRpZCA9ICRyb3db
J3R3ZWV0X2lkJ10pIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgJHEgLj0gJyZhbXA7
dHdlZXRfaWQ9Jy4kaWQ7CgogICAgICAkbGFuZyA9IF9hcmNfdHdpdHRlcl9pbnRlbnRzX2xh
bmcoJGxhbmcpOwogICAgICAkcSAuPSAnJmFtcDtsYW5nPScudXJsZW5jb2RlKCRsYW5nKTsK
CiAgICAgICR0aGluZyA9ICgkdGhpbmc9PT1udWxsKSA/ICdSZXR3ZWV0JyA6IHBhcnNlKCR0
aGluZyk7CgogICAgICAkaHRtbCA9IGhyZWYoJHRoaW5nLCdodHRwOi8vdHdpdHRlci5jb20v
aW50ZW50L3JldHdlZXQ/Jy4kcQogICAgICAgICwgJyBjbGFzcz0iJy4kY2xhc3MuJyInKTsK
CiAgICAgICRqcyA9ICgkaW5jbHVkZV9qcykgPyBfYXJjX3R3aXR0ZXJfd2lkZ2V0X2pzKCRv
cHRpbWlzZV9qcz90cnVlOmZhbHNlKSA6ICcnOwoKICAgICAgcmV0dXJuICRqcy4kaHRtbDsK
CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwp9CgpmdW5jdGlvbiBhcmNfdHdpdHRlcl9pbnRl
bnRfcmVwbHkoJGF0dHMsICR0aGluZz1udWxsKQp7CiAgICBnbG9iYWwgJHByZWZzLCAkdGhp
c2FydGljbGU7CgogICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAgICAgICAndXNlcicgICAg
ICA9PiAkcHJlZnNbJ2FyY190d2l0dGVyX3VzZXInXSwKICAgICAgICAncmVsYXRlZCcgICA9
PiAnJywKICAgICAgICAndGV4dCcgICAgICA9PiAnJywKICAgICAgICAnaW5jbHVkZV9qcyc9
PiB0cnVlLAogICAgICAgICdvcHRpbWlzZV9qcycgPT4gZmFsc2UsCiAgICAgICAgJ2xhbmcn
ICAgICAgPT4gJycsCiAgICAgICAgJ2lkJyAgICAgICAgPT4gJycsCiAgICAgICAgJ2NsYXNz
JyAgICAgPT4gJycKICAgICksJGF0dHMpKTsKCiAgICBpZiAoJGlkIHx8ICR0aGlzYXJ0aWNs
ZVsndGhpc2lkJ10pIHsKCiAgICAgIGlmICghJGlkKSB7CiAgICAgICAgJHJvdyA9IHNhZmVf
cm93KCJ0d2VldF9pZCIKICAgICAgICAsICdhcmNfdHdpdHRlcicsICJhcnRpY2xlX2lkPXsk
dGhpc2FydGljbGVbJ3RoaXNpZCddfSIpOwogICAgICAgIGlmICghJGlkID0gJHJvd1sndHdl
ZXRfaWQnXSkgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICAkcSA9ICdpbl9yZXBseV90
bz0nLiRpZDsKCiAgICAgIGlmICgkdXNlcikgewogICAgICAgICRxIC49ICcmYW1wO3JlbGF0
ZWQ9Jy51cmxlbmNvZGUoJHVzZXIpOwogICAgICB9CiAgICAgIGlmICgkcmVsYXRlZCkgewog
ICAgICAgICRxIC49IHVybGVuY29kZSgoJHVzZXI/JywnOicmcmVsYXRlZD0nKS4kcmVsYXRl
ZCk7CiAgICAgIH0KICAgICAgaWYgKCR0ZXh0KSB7CiAgICAgICAgJHEgLj0gJyZhbXA7dGV4
dD0nLnVybGVuY29kZSgkdGV4dCk7CiAgICAgIH0KCiAgICAgICRsYW5nID0gX2FyY190d2l0
dGVyX2ludGVudHNfbGFuZygkbGFuZyk7CiAgICAgICRxIC49ICcmYW1wO2xhbmc9Jy51cmxl
bmNvZGUoJGxhbmcpOwoKICAgICAgJHRoaW5nID0gKCR0aGluZz09PW51bGwpID8gJ1JlcGx5
JyA6IHBhcnNlKCR0aGluZyk7CgogICAgICAkaHRtbCA9IGhyZWYoJHRoaW5nLCdodHRwOi8v
dHdpdHRlci5jb20vaW50ZW50L3R3ZWV0PycuJHEKICAgICAgICAsICcgY2xhc3M9IicuJGNs
YXNzLiciJyk7CgogICAgICAkanMgPSAoJGluY2x1ZGVfanMpID8gX2FyY190d2l0dGVyX3dp
ZGdldF9qcygkb3B0aW1pc2VfanM/dHJ1ZTpmYWxzZSkgOiAnJzsKCiAgICAgIHJldHVybiAk
anMuJGh0bWw7CgogICAgfQoKICAgIHJldHVybiBmYWxzZTsKfQoKLyoKICogU2V0IHRoZSBp
bnRlbnQgbGFuZ3VhZ2UKICovCmZ1bmN0aW9uIF9hcmNfdHdpdHRlcl9pbnRlbnRzX2xhbmco
JGxhbmc9J2VuJykKewogICRsYW5nID0gc3RydG9sb3dlcigkbGFuZyk7CiAgJGxhbmdzID0g
YXJyYXkoJ2VuJywgJ2l0JywgJ2VzJywgJ2ZyJywgJ2tvJywgJ2pwJyk7CiAgcmV0dXJuIChp
bl9hcnJheSgkbGFuZywkbGFuZ3MpKSA/ICRsYW5nIDogJ2VuJzsKfQoKIjtzOjM6Im1kNSI7
czozMjoiZDc2NWNjMTRlYzI5YjJlNjIxY2ZlY2JjNmQwYTVmNDAiO30=
